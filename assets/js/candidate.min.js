jQuery(document).ready(function(){candidate.init()});candidate=function(){return{init:function(){candidate.addEvents(jQuery("body"))},addEvents:function(a){a.find(".delete-document-tr").on("click",function(){candidate.deleteDocumentTr(jQuery(this))});a.find(".add-document-tr").on("click",function(){candidate.addDocumentTr(jQuery(this))});a.find(".edit-education").on("click",function(){candidate.editEducation(jQuery(this))});a.find(".add-education").on("click",function(){candidate.addEducation(jQuery(this))});a.find(".delete-education").on("click",function(){return candidate.deleteEducation(jQuery(this))});a.find(".edit-experience").on("click",function(){candidate.editExperience(jQuery(this))});a.find(".add-experience").on("click",function(){candidate.addExperience(jQuery(this))});a.find(".delete-experience").on("click",function(){return candidate.deleteExperience(jQuery(this))});a.find(".jobs-navigation a").on("click",function(b){candidate.loadFaqs(jQuery(this))});a.find(".photo-input").each(function(){candidate.photoClickEvent(jQuery(this))});a.find(".country_id").on("change",function(b){candidate.loadLocations(jQuery(this))});a.find(".save-profile").on("click",function(b){jQuery(this).closest("form").submit()});return a},loadFaqs:function(c){var e=c.attr("action");var f=c.attr("offset");var b=c.attr("category_id");var d={action:e,offset:f,category_id:b};var a=kazist.callAjaxByRoute("jobs.jobs.ajaxloadjobs",d,true);jQuery(".category-jobs-listing").html(a);candidate.addEvents(jQuery(".category-jobs-listing"))},photoClickEvent:function(a){a.find(".photo-wrapper").on("click",function(c){var b=a.closest(".photo").find(".upload_photo");b.click();candidate.addNewPhotoDiv()});a.find(".upload_photo").on("change",function(b){candidate.uploadInputChanged(this,jQuery(this))})},addEducation:function(a){jQuery(".candidate-education-form input#education_institution").val("");jQuery(".candidate-education-form input#education_field_of_study").val("");jQuery(".candidate-education-form input#education_grade").val("");jQuery(".candidate-education-form input#education_activities").val("");jQuery(".candidate-education-form textarea#education_description").val("");jQuery(".candidate-education-form input#education_start_date").val("");jQuery(".candidate-education-form input#education_end_date").val("")},editEducation:function(g){var j=g.closest(".single-candidate-education");var b=j.find(".educaction_id").attr("education_data");var e=j.find(".institution").attr("education_data");var h=j.find(".certification_id").attr("education_data");var k=j.find(".field_of_study").attr("education_data");var c=j.find(".grade").attr("education_data");var d=j.find(".activities").attr("education_data");var i=j.find(".description").attr("education_data");var f=j.find(".start_date").attr("education_data");var a=j.find(".end_date").attr("education_data");jQuery(".candidate-education-form .education_id").val(b);jQuery(".candidate-education-form .education_institution").val(e);jQuery(".candidate-education-form .education_certification_id").val(h);jQuery(".candidate-education-form .education_field_of_study").val(k);jQuery(".candidate-education-form .education_grade").val(c);jQuery(".candidate-education-form .education_activities").val(d);jQuery(".candidate-education-form .education_description").val(i);jQuery(".candidate-education-form .education_start_date").val(f);jQuery(".candidate-education-form .education_end_date").val(a)},deleteEducation:function(a){var b=confirm("Are you sure You want to Delete");return b},addExperience:function(a){jQuery(".candidate-experience-form input#experience_title").val("");jQuery(".candidate-experience-form textarea#experience_description").val("");jQuery(".candidate-experience-form input#experience_company").val("");jQuery(".candidate-experience-form input#experience_location").val("");jQuery(".candidate-experience-form input#experience_position").val("");jQuery(".candidate-experience-form input#experience_start_date").val("");jQuery(".candidate-experience-form input#experience_end_date").val("")},editExperience:function(e){var i=e.closest(".single-candidate-experience");var b=i.find(".experience_id").attr("experience_data");var g=i.find(".title").attr("experience_data");var j=i.find(".description").attr("experience_data");var f=i.find(".company").attr("experience_data");var h=i.find(".location").attr("experience_data");var c=i.find(".position").attr("experience_data");var d=i.find(".start_date").attr("experience_data");var a=i.find(".end_date").attr("experience_data");jQuery(".candidate-experience-form .experience_id").val(b);jQuery(".candidate-experience-form .experience_title").val(g);jQuery(".candidate-experience-form .experience_description").val(j);jQuery(".candidate-experience-form .experience_company").val(f);jQuery(".candidate-experience-form .experience_location").val(h);jQuery(".candidate-experience-form .experience_position").val(c);jQuery(".candidate-experience-form .experience_start_date").val(d);jQuery(".candidate-experience-form .experience_end_date").val(a)},deleteExperience:function(a){var b=confirm("Are you sure You want to Delete");return b},deleteDocumentTr:function(c){var e=confirm("Are you sure You want to Delete");if(e){var a=c.attr("document_id");var f=c.attr("candidate_id");var d={document_id:a,candidate_id:f};var b=kazist.callAjaxByRoute("jobs.candidates.ajaxdeletedocument",d,true);candidate.loadCandidate(f,a);c.closest("tr").remove()}},addDocumentTr:function(b){var a="";a+="<tr>";a+="<td>";a+='<input type="text" name="form[document][new][title][]" value="">';a+="</td>";a+="<td>";a+='<input type="file" name="form[document][new][upload][]">';a+="</td>";a+="<td>";a+=' <a class="btn btn-danger btn-xs btn-flat delete-document-tr">';a+='<i class="fa fa-times"></i>';a+="</a>";a+="</td>";a+="</tr>";a=jQuery(a);b.closest(".candidate-documents-form").find("table tbody").append(a);candidate.addEvents(a)},uploadInputChanged:function(c,b){if(c.files&&c.files[0]){var a=new FileReader();a.onload=function(f){var d='<img src="'+f.target.result+'">';b.closest(".photo").find(".photo-wrapper").html(d)};a.readAsDataURL(c.files[0])}},loadLocations:function(b){var d=b.val();var c={country_id:d};var a=kazist.callAjaxByRoute("jobs.jobs.ajaxloadlocations",c,true);jQuery(".location_id").html(a)},loadCandidate:function(d,a){var c={candidate_id:d,document_id:a};var b=kazist.callAjaxByRoute("jobs.candidates.ajaxloadcandidates",c,true);jQuery(".candidate-documents-form").html(b);candidate.addEvents(jQuery(".candidate-documents-form"))}}}();